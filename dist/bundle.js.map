{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/amazon.css?3472","webpack:///./src/carouselUI/css/carousel.css?c1b5","webpack:///./src/carouselUI/js/carousel.js","webpack:///./src/main.js","webpack:///./src/planBarUI/js/planBarScrollEvent.js","webpack:///./src/planBarUI/js/planCardClickEvent.js","webpack:///./src/searchUI/Controller/controller.js","webpack:///./src/searchUI/Model/model.js","webpack:///./src/searchUI/View/view.js","webpack:///./src/searchUI/style/autocomplete.css?365c"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA,uC;;;;;;;;;;;ACAA,uC;;;;;;;;;;;;ACAA;AAAA;AAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,+CAA+C,mBAAmB;AAClE,oDAAoD,YAAY;AAChE;;AAEA;AACA;AACA;AACA;AACA;AACA,wDAAwD,YAAY;AACpE;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;AC3EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsE;AACA;AACnB;AACL;AACH;AACkB;;AAE7D;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,2EAAkB;AACjD,+BAA+B,2EAAkB;AACjD;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,kEAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,oBAAoB,gEAAK;AACzB,mBAAmB,8DAAI;AACvB,MAAM,0EAAU;AAChB;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA,KAAK;AACL;AACA;AACA;;;;;;;;;;;;;ACxEA;AAAA;AAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,C;;;;;;;;;;;;ACXA;AAAA;AAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;ACvBA;AAAA;AAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iTAAiT,SAAS;AAC1T;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kDAAkD,QAAQ;AAC1D;AACA;AACA,C;;;;;;;;;;;;ACzEA;AAAA;AAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,C;;;;;;;;;;;;ACpBA;AAAA;AAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yEAAyE,QAAQ,gBAAgB,kBAAkB;AACnH,WAAW;AACX;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,C;;;;;;;;;;;ACxCA,uC","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export default class Carousel {\n  constructor(carouselArgs) {\n    this.carouselSpeed = carouselArgs['carouselSpeed'];\n    this.carouselUl = carouselArgs['carouselUl'];\n    this.carouselScrollArrowR = carouselArgs['carouselScrollArrowR'];\n    this.carouselScrollArrowL = carouselArgs['carouselScrollArrowL'];\n    this.timeout = carouselArgs['timeout'];\n    this.lastItem = carouselArgs['lastItem'];\n    this.firstItem = carouselArgs['firstItem'];\n    this.xValue = this.firstItem;\n    this.moveR = carouselArgs['moveR'];\n    this.moveL = carouselArgs['moveL'];\n    this.initialVal = carouselArgs['initialVal'];\n    this.autoMove;\n    this.true = 1;\n    this.false = 0;\n    this.isPause = 0;\n  }\n\n  moveCarouselL() {\n    this.carouselScrollArrowL.addEventListener('click', () => {\n      this.moveVal(this.moveL, this.firstItem, this.lastItem);\n      this.isPause++;\n      this.stopInterval();\n    });\n  }\n\n  moveCarouselR() {\n    this.carouselScrollArrowR.addEventListener('click', () => {\n      this.moveVal(this.moveR, this.lastItem, this.firstItem);\n      this.isPause++;\n      this.stopInterval();\n    });\n  }\n\n  moveVal(xVal, startItem, endItem) {\n    if (this.xValue === startItem) this.initialVal = endItem;\n    this.xValue += xVal;\n    this.carouselUl.style.transition = `all, ${this.carouselSpeed}ms`;\n    this.carouselUl.style.transform = `translateX(${this.xValue}px)`;\n  }\n\n  getInfiniteCarousel() {\n    this.carouselUl.addEventListener(\"transitionend\", () => {\n      if (this.xValue <= this.firstItem && this.xValue >= this.lastItem) return;\n      else {\n        this.xValue = this.initialVal;\n        this.carouselUl.style.transform = `translateX(${this.xValue}px)`;\n        this.carouselUl.style.transition = `none`;\n      }\n    });\n  }\n\n  moveAuto() {\n    this.autoMove = setInterval(() => {\n      this.moveVal(this.moveR, this.lastItem, this.firstItem);\n    }, this.timeout);\n  }\n\n  stopInterval() {\n    clearInterval(this.autoMove);\n    if (this.isPause === this.true) {\n      setTimeout(() => {\n        this.isPause = this.false;\n        this.moveAuto();\n      }, this.timeout);\n    }\n  }\n\n  init() {\n    this.getInfiniteCarousel();\n    this.moveCarouselL();\n    this.moveCarouselR();\n    this.moveAuto();\n  }\n}","import PlanCardClickEvent from \"./planBarUI/js/planCardClickEvent.js\";\nimport PlanBarScrollEvent from \"./planBarUI/js/planBarScrollEvent.js\";\nimport Carousel from \"./carouselUI/js/carousel.js\";\nimport Model from \"./searchUI/Model/model.js\";\nimport View from \"./searchUI/View/view.js\";\nimport Controller from \"./searchUI/Controller/controller.js\";\n\nconst planBar = document.querySelector(\".nav-plan-bar\");\nconst planCard = document.querySelector(\".plan-card\");\nconst logoArrow = document.querySelector(\".logo-arrow\");\nconst closeBtn = document.querySelector(\".close\");\nconst closeArrow = document.querySelector(\".arrow-img\");\n\nconst planBarScrollEvent = new PlanBarScrollEvent(planBar);\nconst planCardClickEvent = new PlanCardClickEvent(\n  planCard,\n  logoArrow,\n  closeBtn,\n  closeArrow\n);\n\nconst carousel = new Carousel({\n  carouselSpeed: 93,\n  timeout: 3000,\n  lastItem: -1120,\n  firstItem: -280,\n  moveR: -280,\n  moveL: 280,\n  initialVal: 0,\n  carouselUl: document.querySelector(\".carousel-ul\"),\n  carouselScrollArrowR: document.querySelector(\".scroll-right\"),\n  carouselScrollArrowL: document.querySelector(\".scroll-left\")\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  planBarScrollEvent.showPlanBar();\n  planCardClickEvent.openPlanCard();\n  planCardClickEvent.closePlanCard();\n  carousel.init();\n  const model = new Model();\n  const view = new View();\n  new Controller(view, model, {\n    search: document.querySelector(\".search-tab\"),\n    suggestions: document.querySelector(\".autocomplete-ul\"),\n    form: document.querySelector(\"#searchbar_form\")\n  });\n\n  getAjax();\n  console.log(\"loaded!!\");\n});\n\nfunction getAjax() {\n  let ourRequest = new XMLHttpRequest();\n  ourRequest.open(\"GET\", \"./json.txt\");\n  ourRequest.addEventListener(\"load\", () => {\n    if (ourRequest.status >= 200 && ourRequest.status < 400) {\n      let ourData = JSON.parse(ourRequest.responseText);\n      renderHTML(ourData);\n    } else {\n      console.log(\"We connected to the server, but it returned an error.\");\n    }\n  });\n  ourRequest.send();\n\n  function renderHTML(data) {\n    const items = data.map(item => {\n      return `<li class=\"carousel-li\">\n                                  <img src=\"${item.imgurl}\">\n                                </li>`;\n    });\n    document.querySelector(\".carousel-ul\").innerHTML = items.join(\"\");\n  }\n}\n","export default class PlanBarScrollEvent {\n  constructor(planBar) {\n    this.planBar = planBar;\n  }\n\n  showPlanBar() {\n    window.addEventListener('scroll', function () {\n      if (window.scrollY >= 100) this.planBar.classList.add('shown');\n      else this.planBar.classList.remove('shown');\n    }.bind(this));\n  }\n}","export default class PlanCardClickEvent {\n  constructor(planCard, logoArrow, closeBtn, closeArrow) {\n    this.planCard = planCard;\n    this.logoArrow = logoArrow;\n    this.closeBtn = closeBtn;\n    this.closeArrow = closeArrow;\n  }\n\n  openPlanCard() {\n    this.logoArrow.addEventListener(\"click\", function () {\n      this.planCard.classList.add(\"plan-card-open\");\n    }.bind(this));\n  }\n\n  closePlanCard() {\n    this.closeBtn.addEventListener(\"click\", function () {\n      this.planCard.classList.remove(\"plan-card-open\");\n    }.bind(this));\n\n    this.closeArrow.addEventListener(\"click\", function () {\n      this.planCard.classList.remove(\"plan-card-open\");\n    }.bind(this));\n  }\n}\n","export default class Controller {\n  constructor(view, model, optionObj) {\n    this.view = view;\n    this.model = model;\n    this.optionObj = optionObj;\n    this.initIdx = -1;\n    this.maxIdx = 10;\n    this.minIdx = 0;\n    this.idx = this.initIdx;\n    this.removeHover = 11;\n    this.addEvent();\n  }\n\n  addEvent() {\n    this.optionObj.search.addEventListener('input', this.getFetchData.bind(this));\n    this.optionObj.search.addEventListener('keydown', this.handler.bind(this));\n    this.autocomplete = document.querySelector('.search-autocomplete');\n    this.optionObj.search.addEventListener('blur', this.view.removeSuggestion.bind(this, this.autocomplete, this.view.delaySec));\n  }\n\n  getFetchData(event) {\n    const inputVal = event.target.value;\n    const responseUrl = `https://completion.amazon.com/api/2017/suggestions?session-id=146-2216035-3218645&customer-id=&request-id=DV2W3G68C9YMG9FR19CF&page-type=PrimeLandingPageHorizonte&lop=en_US&site-variant=desktop&client-info=amazon-search-ui&mid=ATVPDKIKX0DER&alias=aps&b2b=0&fresh=0&ks=73&prefix=${inputVal}&event=onKeyPress&limit=11&fb=1&suggestion-type=KEYWORD&_=1551712792496`;\n    this.model.fetchData(responseUrl)\n      .then(suggestionArr => this.showSuggestionVal(suggestionArr));\n  }\n\n  showSuggestionVal(suggestionArr) {\n    this.view.isSuggestionVal(suggestionArr);\n  }\n\n  handler(e) {\n    let suggestionVal = document.querySelectorAll('.suggestion');\n    let keywordNodeLs = document.querySelectorAll('.suggestion > a');\n    if (e.code === 'ArrowDown' && this.idx < this.maxIdx) {\n      this.idx++;\n      this.getKeyWordBackground(suggestionVal, keywordNodeLs, this.minIdx, this.idx - 1);\n    }\n\n    else if (e.code === 'ArrowDown' && (this.idx === this.maxIdx || this.idx === this.removeHover)) {\n      this.getKeyWordTransparent(keywordNodeLs, suggestionVal, this.maxIdx)\n      this.idx = this.initIdx;\n    }\n\n    else if (e.code === 'ArrowUp' && this.idx > this.minIdx) {\n      this.idx--;\n      this.getKeyWordBackground(suggestionVal, keywordNodeLs, this.maxIdx, this.idx + 1);\n    }\n\n    else if (e.code === 'ArrowUp' && this.idx === this.minIdx) {\n      this.getKeyWordTransparent(keywordNodeLs, suggestionVal, this.minIdx)\n      this.idx = this.removeHover;\n    }\n\n    this.getKeyWordUrl();\n  }\n\n  getKeyWordBackground(suggestionVal, keywordNodeLs, MinOrMaxIdx, nextOrPrevIdx) {\n    keywordNodeLs[this.idx] ?\n      [this.optionObj.search.value, suggestionVal[this.idx].style.background] = [keywordNodeLs[this.idx].text.trim(), `#eee`] : null;\n    keywordNodeLs[this.idx] && (this.idx !== MinOrMaxIdx) ?\n      suggestionVal[nextOrPrevIdx].style.background = `transparent` : null;\n  }\n\n  getKeyWordTransparent(keywordNodeLs, suggestionVal, MinOrMaxIdx) {\n    keywordNodeLs[this.idx] ? suggestionVal[MinOrMaxIdx].style.background = `transparent` : null;\n  }\n\n  getKeyWordUrl() {\n    let keyword = this.optionObj.search.value.split(' ').join('+');\n    let searchUrl = `https://www.amazon.com/s?k=${keyword}`;\n    document.getElementById('searchbar_form').action = searchUrl;\n  }\n}","export default class Model {\n  constructor(data) {\n    this.data = data\n  }\n\n  fetchData(responseUrl) {\n    const fetchVal = fetch(responseUrl)\n      .then(res => res.json())\n      .then(data => {\n        return data.suggestions;\n      })\n    return fetchVal;\n  }\n\n  getSuggestionVal(suggestionArr) {\n    const suggestionValArr = suggestionArr.map(suggestion => {\n      return suggestion.value;\n    });\n    return suggestionValArr;\n  }\n}","export default class View {\n  constructor() {\n    this.searchTab = document.querySelector('.search-tab');\n    this.autocompleteUl = document.querySelector('.autocomplete-ul');\n    this.autocomplete = document.querySelector('.search-autocomplete');\n    this.showSuggestion = '';\n    this.delaySec = 300;\n  }\n\n  isSuggestionVal(suggestionValArr) {\n    this.showSuggestion = '';\n    const noSuggestion = 0;\n    (suggestionValArr.length === noSuggestion) ? this.removeSuggestion(this.autocomplete, this.delaySec) : this.renderSuggestion(suggestionValArr)\n  }\n\n  removeSuggestion(autocomplete, delaySec) {\n    setTimeout(() => autocomplete.classList.remove('search-autocomplete-show'), delaySec);\n  }\n\n  renderSuggestion(suggestionArr) {\n    this.addSuggestion(suggestionArr);\n    this.autocompleteUl.innerHTML = this.showSuggestion;\n    this.delayRender(this.delaySec);\n  }\n\n  addSuggestion(suggestionArr) {\n    suggestionArr.forEach(suggestion => {\n      let keyword = suggestion.value.split(' ').join('+');\n      this.showSuggestion += `\n      <li class = \"suggestion\">\n        <a class = \"suggestionLink\" href = \"https://www.amazon.com/s?k=${keyword}&prefix=?&ref=${suggestion.refTag}\">  \n         ${suggestion.value}\n        </a>\n      </li>`\n    });\n  }\n\n  delayRender(delaySec) {\n    setTimeout(() => this.autocomplete.classList.add('search-autocomplete-show'), delaySec);\n  }\n}","// extracted by mini-css-extract-plugin"],"sourceRoot":""}